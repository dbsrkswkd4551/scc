<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.example.scc.mapper.NoticeMapper">

    <insert id="create">

        INSERT INTO board2(title,content,writer)
           VALUES(#{title}, #{content}, #{writer})
    </insert>


    <select id="list" resultType="Notice">

 		<![CDATA[

 		SELECT boardNo,
 			   title,
 			   content,
 			   writer,
 			   regDate
		  FROM board2
		 WHERE boardNo > 0
	  ORDER BY boardNo ASC,
	  		   regDate DESC

		]]>


	</select>


    <select id="search" resultType="Notice">
        <![CDATA[
            SELECT boardNo,
 			   title,
 			   content,
 			   writer,
 			   regDate
		  FROM board2
		 WHERE boardNo > 0
        ]]>

        <if test="title != null and title != ''">
            AND title like CONCAT('%',#{title},'%')
        </if>

        <![CDATA[
		  ORDER BY boardNo ASC,
	  		       regDate DESC
	 	]]>
    </select>


    <select id="read" resultType="Notice">
       SELECT boardNo,
 			   title,
 			   content,
 			   writer,
 			   regDate
		  FROM board2
		 WHERE boardNo = #{boardNo}
    </select>

</mapper>